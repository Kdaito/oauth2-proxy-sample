---
allowed-tools: Bash(git branch:*), Bash(git diff:*), Bash(gh pr view:*), Bash(gh pr diff:*)
argument-hint: [target-branch]
description: 指定されたブランチとの差分を確認し、レビューを実行
---

# ブランチ差分レビュー

## コンテキスト

現在のブランチと指定されたブランチ（デフォルト: main）の差分を確認し、コードレビューを実行します。

**対象ブランチ:** ${1:-main}

## 差分情報

- 現在のブランチ: !`git branch --show-current`
- 対象ブランチとの差分統計: !`git diff --stat ${1:-main}..HEAD`
- 変更されたファイル一覧: !`git diff --name-only ${1:-main}..HEAD`
- 詳細な差分: !`git diff ${1:-main}..HEAD`

## レビュー要求

上記の差分を基に、以下の観点でコードレビューを実施してください：

1. **コード品質とベストプラクティス**
   - コーディング規約の遵守
   - 適切な命名規則
   - コードの構造と設計パターン

2. **潜在的なバグやエラー処理**
   - エッジケースの考慮
   - エラーハンドリングの適切性
   - 例外処理の実装

3. **パフォーマンスの問題**
   - 効率的なアルゴリズムの使用
   - メモリリークの可能性
   - 不要な処理の削除

4. **セキュリティの懸念**
   - 入力値の検証
   - 権限管理
   - 機密情報の取り扱い

5. **可読性と保守性**
   - コメントの適切性
   - 関数・メソッドの分割
   - 依存関係の管理

6. **テストカバレッジ**
   - テストケースの充実度
   - テストの適切性

**注意**: コードの修正は行わず、レビュー結果とアドバイスのみを提供してください。